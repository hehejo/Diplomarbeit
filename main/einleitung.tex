\chapter{Motivation}
\label{chap:einleitung}
Die Computerspiele sind inzwischen Teil des Miteinanders und durchaus weit verbreitet in sozialen Netwerken. Computerspiele veränderten sich, dank der fortschreitenden Übertragungs\-techniken, von Einzelspieler-Spielen beziehungsweise rundenbasierten Gruppenspielen an einem PC zu im Netzwerk gespielten \acp{mmog}. Dies bedeutet, dass Spieler gemeinsam in einer virtuellen Welt, einem sogenannten \ac{mmve}, interagieren. \acp{mmog} verlangen häufig eine monatliche Gebühr, somit ergeben sich gewissen Ansprüche an diese. Die virtuelle Welt muss konsistent, für alle Spieler gleich, sein. Zusätzlich zur dauerhaften Verfügbarkeit, meist 24/7, um Spieler verstreut über den ganzen Erdball zu bedienen, müssen bestimmte Aktionen eines Spielers gespeichert werden, damit dieser beim erneuten Eintreten in die virtuelle Welt den alten Zustand seines Avatars wiederfindet \cite{Zhang2008Persistence}. Weiterhin soll ein \ac{mmog} -- ja nach Umsetzung -- vielfältige Arten von Interaktionen zwischen Spielern, Spielern und \acp{npc} erlauben. Bei SecondLife\footnote{\url{http://www.secondlife.com}} steht der Aspekt der Interaktion zwischen Spielern im Vordergrund, während bei Guildwars\footnote{\url{http://www.guildwars.com}} das Lösen von Quests innerhalb der virtuellen Welt und das Verbessern des eigenen Avatars das Spiel bestimmt.
Die Kommunikation in \acp{mmve} wird meist über eine Client/Server-Architektur abgewickelt. Konsistenz wird einfacherweise damit erreicht, dass der Server die Nachrichten per Broadcast an alle Spieler verteilt. Bei $n$ angemeldeten Spielern (im Folgenden auch \emph{Knoten} genannt) in der virtuellen Welt hat dies eine Komplexität von $O(n^2)$. Sicherheit und Dauerhaftigkeit der Welt sind durch den zentralen Knotenpunkt ebenfalls gegeben. Es ist offensichtlich, dass solch ein System nicht beliebig skaliert, wie ein kleines Rechenbeispiel veranschaulicht: Angenommen eine Updatenachricht ist 10 Bytes groß und der Server ist mit 100 mbit/s (12500 kB/s) angebunden. Wenn die Framerate des Spiels auf 30 Hz, das heißt 30 Updates/s, festgelegt ist, sendet jeder Knoten 300 Bytes/s (0,3 kB/s) an den Server, die dieser an $n-1$ Knoten verteilen muss. Die Bandbreite des Servers ist daher mit lediglich $\lfloor\sqrt{12500\,kB/s \div 0,3\,kB/s}\rfloor = 204$ Knoten gesättigt.
Daher sind viele \acp{mmog} in sogenannte \emph{Shards} aufgeteilt. Dies bedeutet, dass es auf verschiedenen Servern verschiedene Instanzen einer virtuellen Welt gibt, die untereinander nicht verbunden sind. Dies schmälert durchaus das Spielvergnügen, denn die Instanzen können auseinanderlaufen, wenn der Betreiber Updates und Addons nicht auf allen Servern simultan einspielt. Weiterhin kann die Aufteilung des Freundeskreis auf verschiedene Server von neuen Spielern als Hindernis angesehen werden: Es ist kaum möglich -- unter normalen Umständen -- mehrere Avatare gleichmäßig zu bespielen. Um diese Trennung in verschiedene Welten aufzubrechen und die Anzahl der vorzuhaltenden Server zu verringern, gibt es Bestrebungen, dezentrale Techniken wie \ac{p2p}-Netzwerke zu nutzen \cite{Knutsson2004Peertopeer, Triebel2008Peertopeer}. Dies bedeutet, dass allein die Knoten im System die Welt untereinander konsistent halten müssen. Zusätzlich ergeben sich aus der dezentralen Verwaltung neue Herausforderungen in Bezug auf betrügerisches Verhalten \cite{Kabus2007Design}. Einige Ansätze wie Donnybrook \cite{Bharambe2008Donnybrook} oder VAST \cite{Backhaus2007Voronoibased}, die Optimierungen auf Basis des \ac{p2p}-Konzeptes durchführen, nutzen einzelne Aspekte des Spiels zur Optimierung der Eventverteilung aus. Donnybrook nimmt hier starken Bezug auf die Sichtbarkeit von anderen Avataren, während VAST die Nachbarschaft eines Avatars bezüglich dessen \ac{aoi} betrachtet und die Verbindungen des unterliegenden Netzwerkes damit abgleicht. Statt das System lediglich auf die Behandlung eines Eventtypen hin zu optimieren, strebt im Gegensatz dazu \ac{m2etis} eine Optimierung aller im Spiel genutzten Eventtypen an. Auch Cugola sieht Publish/Subscribe-Systeme als ein geeignetes Kommunikationssystem für verteilte Knoten \cite{Cugola2002Using}.

\missing{Jetzt noch die Kurve zu PubSub kriegen und schöner beschreiben \emph{was mein Werk ist}!}


In dieser Arbeit werden die erste Komponente von \ac{m2etis} entwickelt: Das grundlegende Framework des zur Übersetzungszeit optimierbare Publish/Subscribe-System sowie dessen Kommunikation mit dem \ac{p2p}-Netzwerk. Die Verbindung aus \ac{p2p}-Netzwerk und Publish/Subscribe-System wird in \ac{m2etis} aufgriffen und ermöglicht neue Dimensionen der Verteilungsoptimierung von Events. Dies soll eine Entlastung des Kommunikationssystems bringen und somit ermöglichen skalierbare \acp{mmve} zu erstellen.

\section*{Aufbau der Arbeit}
Ein einfaches Szenario zeigt typische Spielsituationen und verdeutlicht die Ansätze von \ac{m2etis}. Danach wird in die Grundlagen zu Overlay- und p2p-Netzwerken sowie verteilten Publish/Subscribe-Systeme eingeführt. Das nächste Kapitel dieser Arbeit widmet sich der Beschreibung der drei Overlay-Netzwerke Chord, Pastry/Tapestry und CAN und der Auswahl eines für \ac{m2etis} geeigneten Netzwerks. Das Kapitel über die Konzeption des Frameworks zeigt die Umsetzung der in  Dimensionen zur Klassifizierung von Eventtypen sowie deren Reihenfolge und Zusammenspiel im Verarbeitungsmodell. Durch Einblicke in die prototypische Implementierung werden die Abstraktionsebenen des Frameworks und dessen einfache Handhabbarkeit ersichtlich. Die Einführung in \ac{tmp} stellt zudem die Techniken vor die den Overhead zur Laufzeit reduzieren und findet sich im Anhang dieser Arbeit.

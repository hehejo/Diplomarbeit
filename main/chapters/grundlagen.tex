\section{Begriffsklärung}
In dieser Arbeit wird ein \emph{Publish/Subscribe-System über einem \ac{p2p} overlay Netzwerk} beschrieben.

\missing{FUFUFU}

\paragraph{Overlay Netzwerk} Ein Overlay-Netzwerk\index{Netzwerk!Overlay} ist ein logischer Aufsatz auf einem bestehenden Netzwerk und abstrahiert von diesem. Weiterhin zeichnen sie sich dadurch aus, dass ein eigener Adressraum genutzt wird und so das unterliegende Netzwerk überlagert wird. Knoten können so benachbart sein, ohne eine direkte physikalische Verbindung zu haben. Das Overlay-Netzwerk bietet neben dem eigenen Adressraum auch Funktionalität zum Versand, Empfang und Routing von Nachrichten \cite{Tannenbaum2003}. 

\paragraph{\ac{p2p}-Netzwerk} p2p-Netzwerke\index{Netzwerk!p2p} beschreiben den Verbund von Knoten, sog. Peers, die miteinander gleichberechtigt kommunizieren können \cite{Steinmetz2005}. p2p-Netzwerke werden meist durch Overlay-Netzwerke realisiert, da Techniken wie bsp. IP-Multicast \cite{Deering1990Multicast} nicht weit verbreitet sind, und diese vom unterliegenden Netzwerk abstrahieren. Durch deren angebotenen Funktionen können viele Arten von p2p-Systemen implementiert werden. Grundlagen dieser Systeme sowie deren unterschiedliche Ansätze werden in Kapitel \ref{chap:grundlagen:p2p} näher besprochen.\\
Meist wird unter p2p \emph{Filesharing} verstanden, was aber nicht immer der Fall sein muss. Gegeignete p2p-Netzwerke können unter Anderem auch als Kommunikationsnsetz genutzt werden \cite{Darlagiannis2006Peertopeer}.

Im Folgenden werden die Begriffe \emph{p2p-Netzwerk} und \emph{Overlay-Netzwerk} in dieser Arbeit synonym benutzt. In vielen zitierten Arbeiten wird von \emph{p2p-overlay network} gesprochen und dies drückt die Anforderung dieser Arbeit an solche Netzwerke aus: Ein vom physischen Netzwerk (räumlich) unabhängiger Verbund aus gleichberechtigen Knoten die miteinander kommunizieren können.

\paragraph{Publish/Subscribe-System} Ein Publish/Subscribe-System\index{Publish/Subscribe} beschreibt ein Abosystem. Ein Subscriber schreibt sich bei einem Publisher ein und wird von diesem über Veränderungen benachrichtigt. Solch ein System kann kanalbasiert oder filterbasiert sein. In Kapitel \ref{chap:grundlagen:pubsub} sind diese Systeme weitaus genauer aufgeführt. So werden aktuelle Systeme gegen die Anforderungen dieser Arbeit geprüft und daraus Konzepte für das zu entwickelnde System gezogen.

\missing{Irgendein Zitat (Buch)!}

\section{p2p-Netzwerke}
\label{chap:grundlagen:p2p}
p2p-Netzwerke lassen sich grundsätzlich in zwei Arten einteilen \cite{Steinmetz2005, Lua2005Survey}: 
\begin{itemize}
\item unstrukturiert
\item strukturiert
\end{itemize}

Da strukturierte Netze später entstanden sind, lassen sich die einzelnen Netze grob in drei Generationen einteilen \cite{Bo2003PeertoPeer}:
\begin{itemize}
	\item \emph{1G}: unstrukturierte Netzwerke\footnote{z.B. Napster, Gnutella}
	\item \emph{2G}: strukturierte Netzwerke\footnote{z.B. Chord, Pastry}
	\item \emph{3G}: strukturierte Netzwerke mit Fokus auf Anonymität, Authentifizierung, Schutz vor Zensur und verschiedenen Rollen der einzelnen Knoten
\end{itemize}

Netzwerke der dritten Generation, wie z.B. GNUnet\footnote{http://www.gnunet.org} \cite{Grothoff2002GNET} werden nicht näher betrachtet, da die zusätzlich angebotene Funktionalität in dieser Arbeit nicht benötigt wird bzw. darauf kein Fokus liegt. Authentifizierung und Anonymität der Clients wird nicht benötigt, da diese weiterhin über den Masterserver angemeldet werden und nicht anonym agieren sollen. Weiterhin wird angenommen, dass Clients keinerlei Betrugsversuche unternehmen und auch sonst kein schadhaftes Verhalten zeigen.\\
In Kapitel \ref{chap:grundlagen:cheating} wird ein Überblick möglicher Betrugsarten und weitere Literatur zur Betrugsverhinderung bzw. Prävention aufgeführt.

Im Folgenden werden die Grundzüge der Netzwerke der ersten und zweiten Generation näher beschrieben.

\subsection{Unstrukturierte Netzwerke}
Unstrukturierte Netzwerke\index{Netzwerk!Overlay!unstruktuiert} zeichnen sich dadurch aus, dass alle Informationen/Dateien durch Suchalgorithmen \cite{Lv2002} gefunden werden müssen. \\
Ein Client tritt dem Netzwerk bei und stellt seine Suchanfrage z.B. über diverse Flooding-Algorithmen in das Netz. Werden entsprechende Peers gefunden die diese Suchanfrage beantworten können, so werden zum Transfer Direktverbindungen aufgebaut. Aufgrund der einfachen (meist textbasierten) Struktur der Suchanfragen können diese einen weiten Wertebereich abdenken.

Im Wesentlichen gibt es widerrum zwei unterschiedliche Arten:
\begin{itemize}
\item zentralisiert
\item dezentralisiert
\end{itemize}

Obwohl in dieser Arbeit keine Netze nach dem Motto \emph{Information finden und per Direktverbindung übertragen} sondern eher nach dem Motto \emph{Daten geschickt zwischen den Knoten verteilen} gebraucht werden, werden die verschiedenen Typen am Aspekt des \emph{Filesharing} erklärt, da dieser recht eingängig ist.\\
\missing{mäh}

\paragraph{zentralisiert} Knoten im Netz melden ihre verfügbaren Dateien an diverse bekannte Hauptrechner. Suchanfragen werden ebenfalls an diese Hauptrechner gerichtet. Der Suchende erhält eine List von potentiellen Peers die seiner Suchanfrage entsprechen. Die eigentlichen Dateien werden dann über direkte Verbindungen zwischen den Peers übertragen. Einige Systeme tauschen weitere potentielle Knoten über Peers aus. Die einzelnen Hauptrechner stellen bei dieser Art von System einen \emph{single point of failure} dar.

\paragraph{dezentralisiert} Da es keine Hauptserver gibt, muss dem neuen Knoten mindestens ein Knoten im Netz bekannt sein, damit er sich in das Netz einklinken kann. Über diesen bekannten Peer baut der neue Knoten eine Nachbarschaft auf. Damit Dateien im Netz gefunden werden können, muss die Suchanfrage durch das Netz geflutet werden. Hierbei wird die Suchanfrage an alle Nachbarn gesendet. Diese senden sie weiter an ihre Nachbarn. Die Suchanfrage kann z.B. mit einer Anzahl an Hops oder einer TTL\footnote{Time to live} in ihrer Reichweite eingegrenzt werden. Potentielle Zyklen müssen bei dieser Art von Suche aufgelöst werden. Sind Peers gefunden, so wird ebenfalls eine direkte Verbindung zur Datenübertragung aufgebaut.

Beispiele für solche Netzwerke sind bsp. Napster (zentralisiert), Gnutella oder BitTorrent\footnote{http://www.bittorrent.com/} (dezentralisiert).

\subsection{Strukturierte Netzwerke}
Strukturierte Netzwerkeindex{Netzwerk!Overlay!strukturiert} sind oft dezentraler Natur, da Daten im Netz nicht gesucht werden müssen sondern anhand der Struktur die zuständigen Knoten berechnet werden können. In strukturierte Netzwerke können Daten via Direktverbindung übertragen werden, aber meist wird die zugrunde liegende Struktur auch zum Routing von Nachrichten genutzt. Der Dezentralität dieser Netze ist geschuldet, dass ein neuer Knoten mindestens einen Peer aus dem Netzwerk kennen muss. Viele Systeme gehen davon aus, dass der neue Knoten aus einer Liste von Peers den ihm nächsten Knoten\footnote{Nähe im Sinne von kurzer Latenz aber auch räumlicher Nähe} wählen kann.

Strukturierte Netzwerke nutzen die Technik der \ac{dht} auf \cite{Wehrle2005, Ghodsi2006AlgorithmsDHT}.\\

Jeder Knoten und jedes Datum hat einen Schlüsselwert. Dieser entspricht einem Wert im Schlüsselraum, der unter den Knoten aufgeteilt wird. Ein Knoten ist dabei immer für einen Bereich aus dem Schlüsselraum zuständig, dies kann je nach genutzer Metrik variieren.\\
Für das zu suchende Datum wird nun der Hashwert berechnet - dieser entspricht einem Schüssel. Der suchende Knoten kennt nun den Peer, der für das Datum zuständig ist. Die Kommunikation zwischen beiden erfolgt dann meist nicht über direkte Verbindungen, sondern nutzt ebenfalls das zugrunde liegende Overlay-Netzwerk zur Datenübertragung. Darauf aufbauend gibt es eine Vielzahl an Systemem die sich hinsichtlich Organisation, Routing und Fehlerfall entscheiden \cite{Goetz2005}.

Beispiele für solche Netzwerke sind Chord, Pastry, Tapestry oder CAN \cite{Hosseini2007Survey, Rowstron2001, Zhao2001Tapestry,Zhao2004Tapestry, Ratnasamy2001Scalable}.

\missing{Muss immer noch schöner werden!}


\input{main/chapters/grundlagen_pubsub.tex}

\input{main/chapters/grundlagen_cheating.tex}

\input{main/chapters/grundlagen_mmog.tex}

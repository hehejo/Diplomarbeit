\section{Verteilte Publish/Subscribe-Systeme}
\label{chap:grundlagen:pubsub}
Diese Arbeit beschäftigt sich ausschließlich mit dezentralen Publish/Subscribe-Sys\-temen, denn \ac{m2etis} zielt darauf ab, die Rechner der Nutzer in einem p2p-Netzwerk zu verbinden und darauf aufbauend die Events in einem Publish/Subscribe-System zu verteilen. Viele der Grundlagen in diesem Kapitel gelten sowohl für klassische zentrale wie auch dezentrale Publish/Subscribe-Systeme, allerdings müssen im verteilten Fall die Verwaltungsinformationen dezentral auf allen Knoten gespeichert werden, beziehungsweise geeignete Verteilunsalgorithmen gefunden werden. Ausgefallene Knoten können aktiv anhand von periodischen ``heartbeat''-Nachrichten erkannt werden. Allerdings ist eine perodische Neuanmeldung der Subscriber von Vorteil, da hier die Subscribe-Nachrichten vom Netzwerk automatisch über andere Knoten geleitet werden und sich so der logische Verteilungsbaum wieder aufbauen kann. Die meisten verteilten Publish/Subscribe-Systemem fordern daher eine periodische Auffrischung der Anmeldungen eines Knotens.\\
Liu gibt einen Überlick über diese Systeme \cite{Liu2003Survey} während Banerjee verschiedene Protokolle in Multicast-Systemen vergleicht und den ``Multicast-Tree'' als Verteilungssystem vorstellt \cite{Banerjee2001Comparative}. Sicherheit \cite{FiegeSecurity}, ``Quality of Service'' \cite{BeFiMu2006PubSubQoS} oder Verteilungsoptimierung \cite{Muhl2002LargeScale} sind ebenfalls Forschungsthemen und ausführlich bearbeitet.

Konzeptionell lassen sich Publish/Subscribe-Systeme als eventbasierte Systeme betrachten. Auf Grund ihres Aufbaus und der Skalierung  in orthogonalen Dimensionen\index{Publish/Subscribe!orthogonale Dimensionen} ``Raum'', ``Zeit'' sowie ``Verarbeitungsmodell'' eignen sich diese gut zur Verteilung von Events in dezentralen Umgebungen \cite{PatrickTh2003Many, Cugola2002Using}.

\begin{figure}[htbp]
\centering
\includegraphics{grafics/pubsub_black_box.pdf}
\caption{Schema eines Publish/Subscribe-Systemes.}
\label{fig:pubsub_black_box}
\end{figure}

Publisher und Subscriber werden durch das Event-System voneinander getrennt, wie es in \Fref{fig:pubsub_black_box} dargestellt ist. Diese Trennung bezieht sich nicht nur auf verschiedene Komponenten einer Applikation, sondern kann auch über Applikations- oder gar Rechnergrenzen gehen. Publisher und Subscriber sind in ihren Aktionen mit dem Event-System zeitlich getrennt und sie müssen kein Wissen voneinander haben. Dies bedeutet dass sich ein Subscriber am System anmelden kann obwohl kein Publisher vorhanden ist, analog können Nachrichten publiziert werden ohne dass Empfänger eingeschrieben sind. Bei einem Fernaufrufsystem wie \emph{remote proceduce call (RPC)} \cite{Birrell1984Implementing} ist dies nicht möglich, da die Gegenseite bekannt sein muss. Das Senden einer Nachricht ist für den Publisher nicht blockierend und entspricht dem Kommunikationsparadigma ``send and forget''. Subscriber warten zudem nicht aktiv auf neue Nachrichten, sondern werden meist per Callback über neue Nachrichten informiert. Damit wird die Verarbeitung vom Event-System aus getriggert. \missing{Zitat?!}

Publish/Subscribe-Systeme lassen sich grundsätzlich in zwei Varianten einteilen: \emph{kanalbasiert}\index{Publish/Subscribe!kanalbasiert} und \emph{filterbasiert}\index{Publish/Subscribe!filterbasiert}. In kanalbasierten Systemen werden die Nachrichten einzelnen Kategorien zugeordnet. Subscriber können sich für Nachrichten dieser Kategorien anmelden und bekommen diese zugestellt. Filterbasierte Systeme haben diese Einteilung nicht, denn die Nachrichten sind typisiert (zum Beispiel nur einfache Datentypen und Zeichenketten) und mit einem Wertebereich versehen. Bei der Anmeldung kann ein Prädikat zur Filterung angegeben werden. Der Knoten empfängt nun nur gefilterte, auf das Prädikat passende Nachrichten.

Verbindet man die Filterung von Nachrichten mit einem kanalbasiertem Ansatz gelangt man zu einem \emph{hybriden} System\index{Publish/Subscribe!hybrid}: Einer Anmeldung an einem Kanal kann ein Prädikat übergeben werden. Die Filterung ist jedoch nur im System möglich, wenn die Nutzdaten vom System lesbar sind oder mit filterbaren Metainformationen angereichert sind. In einem dezentralen System müssen die Prädikate zudem im logisch aufgebauten Verteilungssystem bekanntgemacht werden, damit Nachrichten frühzeitig bei der Verteilung gefiltert werden können. Das von \ac{m2etis} zur Verfügung gestellte kanalbasierte Publish/Subscribe-System kann pro Kanal mit einer eigenen Filterungskomponente versehen werden, wie es in \Fref{chap:konzeption_pubsub} genauer erklärt wird.

Ein prominenter Vertreter verteilter, kanalbasierter Systeme ist Scribe, dessen Funktionsweise im nächsten Abschnitt beschrieben wird.

\input{main/grundlagen_scribe.tex}

Nach diesem Einblick einer möglichen Umsetzung kanalbasiertem Publish/Subscribe, gibt der kommende Abschnitt am Beispiel von Mercury eine Vorstellung davon, wie filterbasierte Systeme\index{Publish/Subscribe!filterbasiert} in einem dezentralem Netzwerk implementiert sein können.

\input{main/grundlagen_mercury.tex}

\input{main/grundlagen_von.tex}

Nach den Grundlagen von \ac{p2p}-Netzwerke, Publish/Subscribe-Systemen und Einblicke in verschiedene Umsetzungen, wird sich das nächste Kapitel mit der Evaluation dreier \ac{p2p}-Netzwerke beschäftigen und ein geeignetes System als Netzwerk für \ac {m2etis} auswählen.
